<!doctype html>
<html lang="en">
    <head>
        <title>ThunderPlainsJS</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, minimum-scale=1,initial-scale=1">
        <meta name="description" content="Embracing the Future of the Web Platform with Web Components."/>
        <meta name="theme-color" content="#193549">
        <script src="/ThunderPlainsJS/presentation.js" type="module"></script>
        <link href="/ThunderPlainsJS/styles/global.css" rel="stylesheet">
        <link href="/ThunderPlainsJS/styles/monokai-sublime.css" rel="stylesheet">
        <link href="/ThunderPlainsJS/manifest.json" rel="manifest">
        <link href="/ThunderPlainsJS/resources/icons/favicon-32.png" rel="shortcut icon">
        <link href="/ThunderPlainsJS/resources/icons/favicon-96.png" rel="apple-touch-icon" >
    </head>
    <body>
        <tp-slides>
            <tp-slide template="content/01-title-card.html"></tp-slide>
            <tp-slide template="content/02-this-is-it.html"></tp-slide>
            <tp-slide template="content/03-who-am-i.html"></tp-slide>
            <tp-slide template="content/04-shrug.html"></tp-slide>
            <tp-slide template="content/05-bio.html"></tp-slide>
            <tp-slide template="content/06-web-components-title.html"></tp-slide>
            <tp-slide template="content/07-history-title.html"></tp-slide>
            <tp-slide template="content/08-dhtml.html"></tp-slide>
            <tp-slide template="content/09-jquery.html"></tp-slide>
            <tp-slide template="content/10-2010-frameworks.html"></tp-slide>
            <tp-slide template="content/11-angular-js.html"></tp-slide>
            <tp-slide template="content/12-react.html"></tp-slide>
            <tp-slide template="content/13-vue.html"></tp-slide>
            <tp-slide template="content/14-the-others.html"></tp-slide>
            <tp-slide template="content/06-web-components-title.html"></tp-slide>
            <tp-slide template="content/15-web-components.html"></tp-slide>
            <tp-slide template="content/16-web-components-history.html"></tp-slide>
            <tp-slide template="content/17-shadow-dom.html"></tp-slide>
            <tp-slide template="content/18-shadow-dom-example.html"></tp-slide>
            <tp-slide template="content/19-shadow-dom-encapsulation.html"></tp-slide>
            <tp-slide template="content/20-shadow-dom-example-2.html"></tp-slide>
            <tp-slide template="content/21-slot.html"></tp-slide>
            <tp-slide template="content/22-slot-example.html"></tp-slide>
            <tp-slide template="content/23-custom-elements.html"></tp-slide>
            <tp-slide template="content/24-custom-elements-api.html"></tp-slide>
            <tp-slide template="content/25-custom-elements-api.html"></tp-slide>
            <tp-slide template="content/26-custom-elements-example.html"></tp-slide>
            <tp-slide template="content/27-the-most-useless-demo.html"></tp-slide>
            <tp-slide template="content/28-custom-elements-demo.html"></tp-slide>
            <tp-slide template="content/26b-custom-elements-best-practices.html"></tp-slide>
            <tp-slide template="content/29-custom-elements-gotchas.html"></tp-slide>
            <tp-slide template="content/30-custom-elements-tools.html"></tp-slide>
            <tp-slide template="content/31-styling-custom-elements.html"></tp-slide>
            <tp-slide template="content/32-when-to-use.html"></tp-slide>
            <tp-slide template="content/33-when-to-use.html"></tp-slide>
            <tp-slide template="content/34-template.html"></tp-slide>
            <tp-slide template="content/35-template-when-to-use.html"></tp-slide>
            <tp-slide template="content/36-browser-support.html"></tp-slide>
        </tp-slides>
        <noscript>
            <article class="slide">
                <h1 class="title">Sorry, this application requires JavaScript</h1>

                <p>I mean, to be fair, it's from a conference about front-end development, so I don't really know what you expected.</p>
            </article>
        </noscript>
        <script>
            (function() {
                'use strict';
                if ('serviceWorker' in navigator) {
                    let deferredPrompt;

                    navigator.serviceWorker.register('/ThunderPlainsJS/thunderplains.sw.js',{
                        scope: '/ThunderPlainsJS/'
                    }).then(() =>
                        console.debug('Service Worker Registered')
                    );

                    navigator.serviceWorker.addEventListener('message', (event) =>{
                        console.debug(event);
                    });

                    window.addEventListener('beforeinstallprompt', (event) => {
                        e.preventDefault();
                        deferredPrompt = event;

                        setTimeout(() => {
                            const button = document.querySelector('.slide__button--hidden');
                            button.classList.remove('slide__button--hidden');
                            button.addEventListener('click', (event) => {
                                button.classList.add('slide__button--hidden');
                                deferredPrompt.prompt();

                                deferredPrompt.userChoice
                                    .then((choice) => {
                                        if (choice === 'accepted') {
                                            console.log('App installed');
                                        } else {
                                            console.log('Install rejected');
                                        }
                                        deferredPrompt = null;
                                    });
                            });
                        }, 200);
                    });
                }

                document.addEventListener('beforeinstallprompt', console.log);
            }());
        </script>
    </body>
</html>